{% load i18n %}
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <!-- Charset -->
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>{% block title %}Bienvenue!{% endblock%}</title>
    <style type="text/css">
    {% block extrastyle %}
    {% endblock %}
    </style>
    <script type="text/javascript">
    {% block extrascript %}
    {% endblock %}
    </script>
    {% block extrahead %}
    {% endblock %}
</head>

<body>
    <div id="page">
        <div id="header">
            <div id="cssmenu" class="jquerycssmenu">
            <ul>
            {{ projectnav|safe }}
            {{ nav|safe }}
            </ul>
            <br style="clear: left" />
            </div>
        </div>        
        <div id="main">
            {% block contentwrapper %}
            <div id="wrapper">
                <div id="content">
                {% block messages %}
                {% if messages %}
                <ul>
                    {% for message in messages %}
                    <li>{{ message }}</li>
                    {% endfor %}
                </ul>
                {% endif %}
                {% endblock %}

                {% block contents %}
                {% endblock %}
                </div>
            </div>
            {% endblock %}
        </div>
        <div id="footer">
        </div>
    </div>

{% if debug and request.user.is_staff %}
<div id="debug">
  <h2>Queries</h2>
  <p>
    {{ sql_queries|length }} Quer{{ sql_queries|pluralize:"y,ies" }}
    {% ifnotequal sql_queries|length 0 %}
    (<span style="cursor: pointer;" onclick="var s=document.getElementById('debugQueryTable').style;s.display=s.display=='none'?'':'none';this.innerHTML=this.innerHTML=='Show'?'Hide':'Show';">Show</span>)
    {% endifnotequal %}
  </p>
  <table id="debugQueryTable" style="display: none;">
    <col width="1"></col>
    <col></col>
    <col width="1"></col>
    <thead>
    <tr>
      <th scope="col">#</th>
      <th scope="col">SQL</th>
      <th scope="col">Time</th>
    </tr>
    </thead>
    <tbody>
    {% for query in sql_queries %}<tr class="{% cycle odd,even %}">
      <td>{{ forloop.counter }}</td>
      <td>{{ query.sql|escape }}</td>
      <td>{{ query.time }}</td>
    </tr>{% endfor %}
    </tbody>
  </table>
</div>
{% endif %}

</body>
</html>
